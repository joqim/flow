{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { PassageUser } from '@passageidentity/passage-elements/passage-user';\nexport function useCurrentUser() {\n  _s();\n  const [result, setResult] = useState({\n    isLoading: true,\n    isAuthorized: false\n  });\n  useEffect(() => {\n    let cancelRequest = false;\n    new PassageUser().userInfo().then(userInfo => {\n      if (cancelRequest) {\n        return;\n      }\n      if (userInfo === undefined) {\n        setResult({\n          isLoading: false,\n          isAuthorized: false\n        });\n        return;\n      }\n      setResult({\n        isLoading: false,\n        isAuthorized: true\n      });\n    });\n    return () => {\n      cancelRequest = true;\n    };\n  }, []);\n  return result;\n}\n_s(useCurrentUser, \"sGcLyobpCsgzRBXG1vBUepFN0Hw=\");","map":{"version":3,"names":["useState","useEffect","PassageUser","useCurrentUser","_s","result","setResult","isLoading","isAuthorized","cancelRequest","userInfo","then","undefined"],"sources":["/Users/kaalabhairava/Documents/PassageExpress/example-react/03-Login-With-Profile/src/hooks/useCurrentUser.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { PassageUser } from '@passageidentity/passage-elements/passage-user';\n\nexport function useCurrentUser() {\n    const [result, setResult] = useState({\n        isLoading: true,\n        isAuthorized: false,\n    });\n\n    useEffect(() => {\n        let cancelRequest = false;\n        new PassageUser().userInfo().then(userInfo=> {\n            if( cancelRequest ) {\n                return;\n            }\n            if(userInfo === undefined){\n                setResult({\n                    isLoading: false,\n                    isAuthorized: false,\n                });\n                return;\n            }\n            setResult({\n                isLoading: false,\n                isAuthorized: true,\n            });\n        });\n        return () => {\n            cancelRequest = true;\n        };\n    }, []);\n    return result;\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,gDAAgD;AAE5E,OAAO,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAAC;IACjCO,SAAS,EAAE,IAAI;IACfC,YAAY,EAAE;EAClB,CAAC,CAAC;EAEFP,SAAS,CAAC,MAAM;IACZ,IAAIQ,aAAa,GAAG,KAAK;IACzB,IAAIP,WAAW,EAAE,CAACQ,QAAQ,EAAE,CAACC,IAAI,CAACD,QAAQ,IAAG;MACzC,IAAID,aAAa,EAAG;QAChB;MACJ;MACA,IAAGC,QAAQ,KAAKE,SAAS,EAAC;QACtBN,SAAS,CAAC;UACNC,SAAS,EAAE,KAAK;UAChBC,YAAY,EAAE;QAClB,CAAC,CAAC;QACF;MACJ;MACAF,SAAS,CAAC;QACNC,SAAS,EAAE,KAAK;QAChBC,YAAY,EAAE;MAClB,CAAC,CAAC;IACN,CAAC,CAAC;IACF,OAAO,MAAM;MACTC,aAAa,GAAG,IAAI;IACxB,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EACN,OAAOJ,MAAM;AACjB;AAACD,EAAA,CA7BeD,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}