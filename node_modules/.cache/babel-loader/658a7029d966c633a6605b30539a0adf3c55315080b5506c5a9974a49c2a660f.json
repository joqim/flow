{"ast":null,"code":"import { d as defineComponent, a as appStyles, o as onBeforeUpdate, r as ref, s as setLocale, w as watch, u as useWebFonts, b as useIntlTelInput, _ as _export_sfc, c as useAppId, e as resolveComponent, f as createElementBlock, g as withDirectives, v as vShow, h as createBaseVNode, i as createBlock, j as useDefaultCountryCode, k as openBlock, l as defineCustomElement, m as safelyRegisterElement } from \"../customElements.es.js\";\nimport { P as PassageRouterView, u as useCallbacks, a as useRouter } from \"../customElements.es2.js\";\nconst _sfc_main = defineComponent({\n  name: \"AuthApp\",\n  components: {\n    PassageRouterView\n  },\n  props: {\n    appId: String,\n    beforeAuth: Function,\n    onSuccess: Function,\n    onEvent: Function,\n    lang: String,\n    defaultCountryCode: String\n  },\n  styles: [appStyles],\n  setup(props) {\n    function storeProps() {\n      const {\n        updateAppId\n      } = useAppId();\n      if (props.appId) {\n        updateAppId(props.appId);\n      }\n      const {\n        updateDefaultCountryCode\n      } = useDefaultCountryCode();\n      updateDefaultCountryCode(props.defaultCountryCode);\n      const {\n        setBeforeAuth,\n        setOnSuccess,\n        setOnEvent\n      } = useCallbacks();\n      setBeforeAuth(props.beforeAuth);\n      setOnSuccess(props.onSuccess);\n      setOnEvent(props.onEvent);\n    }\n    storeProps();\n    onBeforeUpdate(() => {\n      storeProps();\n    });\n    const initialLoading = ref(true);\n    setLocale(props.lang).finally(() => {\n      initialLoading.value = false;\n    });\n    watch(() => props.lang, (previous, next) => {\n      if (previous !== next) {\n        setLocale(props.lang);\n      }\n    });\n    const {\n      router\n    } = useRouter();\n    router.resetRouter();\n    useWebFonts();\n    const containerRef = ref();\n    useIntlTelInput(containerRef);\n    return {\n      containerRef,\n      initialLoading\n    };\n  }\n});\nconst _hoisted_1 = {\n  id: \"passage-auth-container\",\n  ref: \"containerRef\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_passage_router_view = resolveComponent(\"passage-router-view\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1, [withDirectives(createBaseVNode(\"div\", _hoisted_2, [(openBlock(), createBlock(_component_passage_router_view, {\n    key: _ctx.appId\n  }))], 512), [[vShow, !_ctx.initialLoading]])], 512);\n}\nvar AuthApp = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nconst PassageAuth = defineCustomElement(AuthApp);\nfunction registerPassageAuthElement() {\n  safelyRegisterElement(PassageAuth, \"auth\");\n}\nregisterPassageAuthElement();\nexport { registerPassageAuthElement };","map":{"version":3,"names":["_sfc_main","defineComponent","name","components","PassageRouterView","props","appId","String","beforeAuth","Function","onSuccess","onEvent","lang","defaultCountryCode","styles","appStyles","setup","storeProps","updateAppId","useAppId","updateDefaultCountryCode","useDefaultCountryCode","setBeforeAuth","setOnSuccess","setOnEvent","useCallbacks","onBeforeUpdate","initialLoading","ref","setLocale","finally","value","watch","previous","next","router","useRouter","resetRouter","useWebFonts","containerRef","useIntlTelInput","_hoisted_1","id","openBlock","createElementBlock","withDirectives","createBaseVNode","_hoisted_2","createBlock","_component_passage_router_view","key","_ctx","PassageAuth","defineCustomElement","AuthApp","registerPassageAuthElement","safelyRegisterElement"],"sources":["/Users/kaalabhairava/Documents/PassageExpress/example-react/03-Login-With-Profile/node_modules/@passageidentity/passage-elements/src/elements/passage-auth/AuthApp.ce.vue","/Users/kaalabhairava/Documents/PassageExpress/example-react/03-Login-With-Profile/node_modules/@passageidentity/passage-elements/src/elements/passage-auth/index.ts"],"sourcesContent":["<template>\n  <div id=\"passage-auth-container\" ref=\"containerRef\">\n    <div class=\"container\" v-show=\"!initialLoading\">\n      <passage-router-view :key=\"appId\"></passage-router-view>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, onBeforeUpdate, PropType, ref, watch } from 'vue'\nimport { useWebFonts } from '@/composables/useWebFonts'\nimport { useAppId } from '@/composables/useAppId'\nimport { useCallbacks, BeforeAuthCallback, OnSuccessCallback, OnEventCallback } from '@/composables/useCallbacks'\nimport { useDefaultCountryCode } from '@/composables/useDefaultCountryCode'\nimport PassageRouterView from '@/PassageAuth/views/RouterView/RouterView.vue'\nimport appStyles from '../../assets/scss/app.scss'\nimport { useRouter } from '@/PassageAuth/composables/useRouter'\nimport { useIntlTelInput } from '@/composables/useIntlTelInput'\nimport { setLocale } from '@/composables/useLocale'\n\nexport default defineComponent({\n  name: 'AuthApp',\n  components: {\n    PassageRouterView,\n  },\n  props: {\n    appId: String,\n    beforeAuth: Function as PropType<BeforeAuthCallback>,\n    onSuccess: Function as PropType<OnSuccessCallback>,\n    onEvent: Function as PropType<OnEventCallback>,\n    lang: String,\n    defaultCountryCode: String,\n  },\n  styles: [appStyles],\n  setup(props) {\n    function storeProps() {\n      const { updateAppId } = useAppId()\n      if (props.appId) {\n        updateAppId(props.appId)\n      }\n\n      const { updateDefaultCountryCode } = useDefaultCountryCode()\n      updateDefaultCountryCode(props.defaultCountryCode)\n\n      const { setBeforeAuth, setOnSuccess, setOnEvent } = useCallbacks()\n      setBeforeAuth(props.beforeAuth)\n      setOnSuccess(props.onSuccess)\n      setOnEvent(props.onEvent)\n    }\n    storeProps()\n\n    onBeforeUpdate(() => {\n      storeProps()\n    })\n\n    const initialLoading = ref<boolean>(true)\n    setLocale(props.lang).finally(() => {\n      initialLoading.value = false\n    })\n    watch(\n      () => props.lang,\n      (previous, next) => {\n        if (previous !== next) {\n          setLocale(props.lang)\n        }\n      },\n    )\n\n    const { router } = useRouter()\n    router.resetRouter()\n\n    useWebFonts()\n\n    const containerRef = ref()\n\n    useIntlTelInput(containerRef)\n\n    return {\n      containerRef,\n      initialLoading,\n    }\n  },\n})\n</script>\n","import AuthApp from './AuthApp.ce.vue'\nimport { defineCustomElement } from '@vue/runtime-dom'\nimport { safelyRegisterElement } from '@/utils/customElements'\n\nconst PassageAuth = defineCustomElement(AuthApp)\n\nexport function registerPassageAuthElement(): void {\n  safelyRegisterElement(PassageAuth, 'auth')\n}\n\nregisterPassageAuthElement()\n"],"mappings":";;AAmBA,MAAKA,SAAA,GAAaC,eAAA,CAAa;EAC7BC,IAAA,EAAM;EACNC,UAAA,EAAY;IACVC;EACF;EACAC,KAAA,EAAO;IACLC,KAAA,EAAOC,MAAA;IACPC,UAAA,EAAYC,QAAA;IACZC,SAAA,EAAWD,QAAA;IACXE,OAAA,EAASF,QAAA;IACTG,IAAA,EAAML,MAAA;IACNM,kBAAA,EAAoBN;EACtB;EACAO,MAAA,EAAQ,CAACC,SAAS;EAClBC,MAAMX,KAAA,EAAO;IACX,SAASY,WAAA,EAAa;MACd;QAAEC;MAAA,IAAgBC,QAAA;MACxB,IAAId,KAAA,CAAMC,KAAA,EAAO;QACfY,WAAA,CAAYb,KAAA,CAAMC,KAAK;MACzB;MAEM;QAAEc;MAAA,IAA6BC,qBAAA;MACrCD,wBAAA,CAAyBf,KAAA,CAAMQ,kBAAkB;MAEjD,MAAM;QAAES,aAAA;QAAeC,YAAA;QAAcC;MAAA,IAAeC,YAAA,EAAa;MACjEH,aAAA,CAAcjB,KAAA,CAAMG,UAAU;MAC9Be,YAAA,CAAalB,KAAA,CAAMK,SAAS;MAC5Bc,UAAA,CAAWnB,KAAA,CAAMM,OAAO;IAC1B;IACWM,UAAA;IAEXS,cAAA,CAAe,MAAM;MACRT,UAAA;IAAA,CACZ;IAEK,MAAAU,cAAA,GAAiBC,GAAA,CAAa,IAAI;IACxCC,SAAA,CAAUxB,KAAA,CAAMO,IAAI,EAAEkB,OAAA,CAAQ,MAAM;MAClCH,cAAA,CAAeI,KAAA,GAAQ;IAAA,CACxB;IACDC,KAAA,CACE,MAAM3B,KAAA,CAAMO,IAAA,EACZ,CAACqB,QAAA,EAAUC,IAAA,KAAS;MAClB,IAAID,QAAA,KAAaC,IAAA,EAAM;QACrBL,SAAA,CAAUxB,KAAA,CAAMO,IAAI;MACtB;IACF;IAGI;MAAEuB;IAAA,IAAWC,SAAA;IACnBD,MAAA,CAAOE,WAAA,EAAY;IAEPC,WAAA;IAEZ,MAAMC,YAAA,GAAeX,GAAA;IAErBY,eAAA,CAAgBD,YAAY;IAErB;MACLA,YAAA;MACAZ;IAAA;EAEJ;AACF,CAAC;AAhFS,MAAAc,UAAA;EAAyBC,EAAA,EAAG;EAAAd,GAAA;;;;;;;EAClC,OAAAe,SAAA,IAAAC,kBAAA,CAEM,OAFNH,UAAA,EAEM,CADoDI,cAAA,CAAAC,eAAA,QAAAC,UAAA,IAAAJ,SAAA,IAAAK,WAAA,CAAAC,8BAAA;IAAAC,GAAA,EAAAC,IAAA,CAAA7C;EAAA,a;;;ACC9D,MAAM8C,WAAA,GAAcC,mBAAA,CAAoBC,OAAO;AAExC,SAASC,2BAAA,EAAmC;EACjDC,qBAAA,CAAsBJ,WAAA,EAAa,MAAM;AAC3C;AAEAG,0BAAA,EAA2B;AAAA,SAAAA,0BAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}