"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("../customElements.js"),t=require("../RouterView.js");const n=e.defineComponent({name:"AuthApp",components:{PassageRouterView:t.PassageRouterView},props:{appId:String,beforeAuth:Function,onSuccess:Function,onEvent:Function,lang:String,defaultCountryCode:String},styles:[e.appStyles],setup(n){function o(){const{updateAppId:o}=e.useAppId();n.appId&&o(n.appId);const{updateDefaultCountryCode:s}=e.useDefaultCountryCode();s(n.defaultCountryCode);const{setBeforeAuth:r,setOnSuccess:a,setOnEvent:u}=t.useCallbacks();r(n.beforeAuth),a(n.onSuccess),u(n.onEvent)}o(),e.onBeforeUpdate((()=>{o()}));const s=e.ref(!0);e.setLocale(n.lang).finally((()=>{s.value=!1})),e.watch((()=>n.lang),((t,o)=>{t!==o&&e.setLocale(n.lang)}));const{router:r}=t.useRouter();r.resetRouter(),e.useWebFonts();const a=e.ref();return e.useIntlTelInput(a),{containerRef:a,initialLoading:s}}}),o={id:"passage-auth-container",ref:"containerRef"},s={class:"container"};var r=e._export_sfc(n,[["render",function(t,n,r,a,u,c){const i=e.resolveComponent("passage-router-view");return e.openBlock(),e.createElementBlock("div",o,[e.withDirectives(e.createBaseVNode("div",s,[(e.openBlock(),e.createBlock(i,{key:t.appId}))],512),[[e.vShow,!t.initialLoading]])],512)}]]);const a=e.defineCustomElement(r);function u(){e.safelyRegisterElement(a,"auth")}u(),exports.registerPassageAuthElement=u;
//# sourceMappingURL=index.cjs.js.map
