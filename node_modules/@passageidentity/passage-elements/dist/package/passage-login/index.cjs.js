"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("../RouterView.js"),t=require("../customElements.js");const o=t.defineComponent({name:"LoginApp",props:{appId:String,beforeAuth:Function,onSuccess:Function,lang:String,defaultCountryCode:String},components:{PassageRouterView:e.PassageRouterView},styles:[t.appStyles],setup(o){function n(){const{updateAppId:n}=t.useAppId();o.appId&&n(o.appId);const{updateDefaultCountryCode:s}=t.useDefaultCountryCode();s(o.defaultCountryCode);const{setBeforeAuth:r,setOnSuccess:a}=e.useCallbacks();r(o.beforeAuth),a(o.onSuccess)}n(),t.onBeforeUpdate((()=>{n()}));const s=t.ref(!0);t.setLocale(o.lang).finally((()=>{s.value=!1})),t.watch((()=>o.lang),((e,n)=>{e!==n&&t.setLocale(o.lang)}));const{router:r}=e.useRouter();r.resetRouter(),r.homeRoute=e.LoginRoute,t.useWebFonts();const a=t.ref();return t.useIntlTelInput(a),{containerRef:a,initialLoading:s}}}),n={id:"passage-auth-container",ref:"containerRef"},s={class:"container"};var r=t._export_sfc(o,[["render",function(e,o,r,a,u,i){const c=t.resolveComponent("passage-router-view");return t.openBlock(),t.createElementBlock("div",n,[t.withDirectives(t.createBaseVNode("div",s,[(t.openBlock(),t.createBlock(c,{key:e.appId}))],512),[[t.vShow,!e.initialLoading]])],512)}]]);const a=t.defineCustomElement(r);function u(){t.safelyRegisterElement(a,"login")}u(),exports.registerPassageLoginElement=u;
//# sourceMappingURL=index.cjs.js.map
